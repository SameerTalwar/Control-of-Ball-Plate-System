function [df_dx,B] = JacobianEvaluatorBPS(desiredX)

x = desiredX(1);
xdot = desiredX(2);
alpha = desiredX(3);
alphadot = desiredX(4);
y = desiredX(5);
ydot = desiredX(6);
beta = desiredX(7);
betadot = desiredX(8);
xdotdot = desiredX(9);
ydotdot = desiredX(10);
alphadotdot = desiredX(11);
betadotdot = desiredX(12);

m = 0.05;
r = 0.02;
g = 9.8;
M = 0.5;
a = 0.2;
Ib = 2*m*r*r/5;
Ip = M*a*a/12;

c = 1 + (Ib/(m*r*r));
c1 = ((Ib + Ip)/m) + x^2;
c2 = ((Ib + Ip)/m) + y^2;
c3 = (Ib + Ip) + (m*(x^2)) + (m*(y^2));

df_dx(1,1) = 0;
df_dx(1,2) = 1;
df_dx(1,3) = 0;
df_dx(1,4) = 0;
df_dx(1,5) = 0;
df_dx(1,6) = 0;
df_dx(1,7) = 0;
df_dx(1,8) = 0;
df_dx(2,1) = (alphadot^2)/c;
df_dx(2,2) = 0;
df_dx(2,3) = -(g*cos(alpha))/c;
df_dx(2,4) = ((2*m*x*alphadot)+(betadot*y))/c;
df_dx(2,5) = (alphadot*betadot)/c;
df_dx(2,6) = 0;
df_dx(2,7) = 0;
df_dx(2,8) = (alphadot*y)/c;
df_dx(3,1) = 0;
df_dx(3,2) = 0;
df_dx(3,3) = 0;
df_dx(3,4) = 1;
df_dx(3,5) = 0;
df_dx(3,6) = 0;
df_dx(3,7) = 0;
df_dx(3,8) = 0;
df_dx(4,1) = ((c3*((m*m*y*y*g*(cos(beta)-cos(alpha))) + (2*m*m*x*y*ydot*(alphadot-betadot)) + (m*m*y*y*xdot*alphadot) + (2*m*m*y*y*((ydot*betadot)-(xdot*alphadot))) - (Ib+Ip)*((m*g*cos(alpha))+(2*m*xdot*alphadot)+(m*ydot*betadot))))-(2*m*x)*((m*m*x*y*y*g*(cos(beta)-cos(alpha))) + (m*m*x*x*y*ydot*(alphadot-betadot)) + (m*m*y*y*xdot*((x*alphadot)-(y*betadot))) + (2*m*m*x*y*y*((ydot*betadot)-(xdot*alphadot))) - (Ib+Ip)*((m*g*x*cos(alpha))+(m*xdot*y*betadot)+(m*x*ydot*betadot)+(2*m*x*xdot*alphadot))))/((Ib+Ip)*c3*c3);
df_dx(4,2) = ((m*m*y*y*((x*alphadot)-(y*betadot))) - (2*m*m*x*y*y*alphadot) - (Ib+Ip)*((m*y*betadot)+(2*m*x*alphadot)))/((Ib+Ip)*c3);
df_dx(4,3) = ((m*m*x*y*y*g*sin(alpha)) + (Ib+Ip)*(m*g*x*sin(alpha)))/((Ib+Ip)*c3);
df_dx(4,4) = ((m*m*x*x*y*ydot)-(m*m*x*xdot*y*y))/((Ib+Ip)*c3);
df_dx(4,5) = ((-x*betadotdot)-(xdot*betadot))/c1;
df_dx(4,6) = (-x*betadot)/c1;
df_dx(4,7) = 0;
df_dx(4,8) = ((-xdot*y)-(x*ydot))/c1;
df_dx(5,1) = 0;
df_dx(5,2) = 0;
df_dx(5,3) = 0;
df_dx(5,4) = 0;
df_dx(5,5) = 0;
df_dx(5,6) = 1;
df_dx(5,7) = 0;
df_dx(5,8) = 0;
df_dx(6,1) = (alphadot*betadot)/c;
df_dx(6,2) = 0;
df_dx(6,3) = 0;
df_dx(6,4) = (betadot*x)/c;
df_dx(6,5) = (betadot^2)/c;
df_dx(6,6) = 0;
df_dx(6,7) = -(g*cos(beta))/c;
df_dx(6,8) = ((2*m*y*betadot)+(alphadot*x))/c;
df_dx(7,1) = 0;
df_dx(7,2) = 0;
df_dx(7,3) = 0;
df_dx(7,4) = 0;
df_dx(7,5) = 0;
df_dx(7,6) = 0;
df_dx(7,7) = 0;
df_dx(7,8) = 1;
df_dx(8,1) = ((-y*alphadotdot)-(ydot*alphadot))/c2;
df_dx(8,2) = (-y*alphadot)/c2;
df_dx(8,3) = 0;
df_dx(8,4) = ((-xdot*y)-(x*ydot))/c2;
df_dx(8,5) = ((-(2*m*betadot*ydot)-(m*x*alphadotdot)-(m*xdot*alphadot)-(m*g*cos(beta)))*(m*c2) - (2*m*y)*(Ty-(2*m*betadot*y*ydot)-(m*x*y*alphadotdot)-(m*ydot*x*alphadot)-(m*y*xdot*alphadot)-(m*g*y*cos(beta))))/(m*m*c2*c2);
df_dx(8,6) = ((-2*betadot*y)-(x*alphadot))/c2;
df_dx(8,7) = (g*y*sin(beta))/c2;
df_dx(8,8) = (-2*y*ydot)/c2;

end